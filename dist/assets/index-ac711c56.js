(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();async function g(t){try{const e=await fetch("https://www.themealdb.com/api/json/v1/1/random.php");if(!e.ok)throw new Error("There is an error when fetching data");const s=(await e.json()).meals[0];console.log(s),t(s)}catch(e){console.log(e),alert("The server is not responding")}}const p=t=>{document.getElementById("firstContainer1").scrollIntoView({behavior:"smooth"}),document.getElementById("mealName").innerHTML=t.strMeal,document.getElementById("mealInstruction").innerHTML=t.strInstructions,document.getElementById("mealInstruction").innerHTML=t.strInstructions.replace(/[.!?]+/g,"$&<br>"),document.getElementById("mealImage").src=t.strMealThumb,document.getElementById("mealOrigin").innerHTML=t.strArea,document.getElementById("mealCategory").innerHTML=t.strCategory,document.getElementById("mealIngredients").innerHTML=t.strIngredients;const r=t.strYoutube.replace("watch?v=","embed/");document.getElementById("mealYoutube").src=r,document.getElementById("firstContainer1").style.backgroundImage=`url(${t.strMealThumb})`,document.getElementById("mealImage").style.height="27vw",document.getElementById("getRecipeBtn").style.display="none",document.getElementById("firstContainer1").style.display="flex",document.getElementById("minimize").style.display="block",document.getElementById("refreshBtn").style.display="block";let s="";for(let n=1;n<=20;n++)t[`strIngredient${n}`]!==""&&t[`strMeasure${n}`]!==""&&(s+=`${t[`strIngredient${n}`]} - ${t[`strMeasure${n}`]}<br>`);document.getElementById("mealIngredients").innerHTML=s},h=(t,e)=>{document.getElementById(t).animate([{opacity:1},{opacity:0}],{duration:e,fill:"forwards"})},f=(t,e)=>{document.getElementById(t).animate([{opacity:0},{opacity:1}],{duration:e,fill:"forwards"})},l=(t,e)=>{setTimeout(function(){console.log("delayed"),t()},e)},I=()=>{f("firstContainer1",1e3)},E=()=>{g(p)},B=()=>{b("display")},b=t=>{var e=t;document.getElementById("minimize").style[e]="none",document.getElementById("refreshBtn").style[e]="none",document.getElementById("firstContainer1").style[e]="none",document.getElementById("getRecipeBtn").style[e]=""};function w(t,e){t.meals.forEach(r=>{const s=document.createElement("div");s.classList.add("card","card-style");const n=document.createElement("img");n.src=r.strMealThumb,n.alt=r.strMeal,n.classList.add("image-style"),s.appendChild(n);const o=document.createElement("h4");o.innerHTML=r.strMeal,o.classList.add("title-style"),s.appendChild(o),e.appendChild(s),e.style.display="grid",s.addEventListener("click",()=>{const i=document.getElementById("meal-detail-container");i.innerHTML="";const d=document.createElement("div");d.classList.add("meal-detail");const u=[];for(let c=1;c<=20;c++)r[`strIngredient${c}`]&&r[`strMeasure${c}`]&&u.push(`<li>${r[`strIngredient${c}`]} - ${r[`strMeasure${c}`]}</li>`);d.innerHTML=`
          <h2>${r.strMeal}</h2>
          <img class="meal-search-image" src="${r.strMealThumb}" alt="${r.strMeal}">
          <p>Ingredients:</p>
          <ul class="meal-ingredient">
            ${u.join("")}
          </ul>
          <p>Instructions:</p>
          <p class="instruction">${r.strInstructions.replace(/\. /g,".<br>")}</p>
          <p>Youtube:</p>
          <iframe class="youtubeVideo" width="560" height="315" src="https://www.youtube.com/embed/${r.strYoutube.split("v=")[1]}" frameborder="0" allowfullscreen></iframe>
        `,i.appendChild(d),document.getElementById("meal-container").style.display="none";const a=document.createElement("button");a.textContent="Close",a.classList.add("close-button"),d.appendChild(a),a.addEventListener("click",()=>{i.innerHTML="",document.getElementById("meal-container").style.display="grid"})})})}function y(t){const e=document.getElementById("meal-container");if(e.innerHTML="",e)w(t,e);else{const r=document.createElement("div");r.classList.add("not-found"),r.textContent="data not found",e.appendChild(r),e.style.display="flex",e.style.margin="5vw 0 5vw 0"}}async function m(t){try{const e=await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${t}`);if(!e.ok)throw new Error("There is an error when fetching data...");const r=await e.json();y(r),console.log(r)}catch(e){console.error("Error:",e),y({error:"The server is not responding"})}}document.getElementById("getRecipeBtn").onclick=()=>{g(p),f("firstContainer1",2e3)};document.getElementById("refreshBtn").onclick=()=>{document.getElementById("firstContainer1").scrollIntoView({behavior:"smooth"}),h("firstContainer1",600),l(E,300),l(I,1e3)};document.getElementById("minimize").onclick=()=>{l(B,0)};document.getElementById("input-search").addEventListener("keydown",t=>{if(t.keyCode===13){const e=t.target.value.trim();e!==""&&(m(e),t.target.blur())}});document.getElementById("button-search").addEventListener("click",()=>{const t=document.getElementById("input-search").value.trim();t!==""&&(m(t),document.getElementById("input-search").blur())});m("chicken");
