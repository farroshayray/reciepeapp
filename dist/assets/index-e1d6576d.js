(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();async function g(t){try{const e=await fetch("https://www.themealdb.com/api/json/v1/1/random.php");if(!e.ok)throw new Error("There is an error when fetching data");const s=(await e.json()).meals[0];console.log(s),t(s)}catch(e){console.log(e),alert("The server is not responding")}}const p=t=>{document.getElementById("firstContainer1").scrollIntoView({behavior:"smooth"}),document.getElementById("mealName").innerHTML=t.strMeal,document.getElementById("mealInstruction").innerHTML=t.strInstructions,document.getElementById("mealInstruction").innerHTML=t.strInstructions.replace(/[.!?]+/g,"$&<br>"),document.getElementById("mealImage").src=t.strMealThumb,document.getElementById("mealOrigin").innerHTML=t.strArea,document.getElementById("mealCategory").innerHTML=t.strCategory,document.getElementById("mealIngredients").innerHTML=t.strIngredients;const n=t.strYoutube.replace("watch?v=","embed/");document.getElementById("mealYoutube").src=n,document.getElementById("firstContainer1").style.backgroundImage=`url(${t.strMealThumb})`,document.getElementById("mealImage").style.height="27vw",document.getElementById("getRecipeBtn").style.display="none",document.getElementById("firstContainer1").style.display="flex",document.getElementById("minimize").style.display="block",document.getElementById("refreshBtn").style.display="block";let s="";for(let r=1;r<=20;r++)t[`strIngredient${r}`]!==""&&t[`strMeasure${r}`]!==""&&(s+=`${t[`strIngredient${r}`]} - ${t[`strMeasure${r}`]}<br>`);document.getElementById("mealIngredients").innerHTML=s},h=(t,e)=>{document.getElementById(t).animate([{opacity:1},{opacity:0}],{duration:e,fill:"forwards"})},f=(t,e)=>{document.getElementById(t).animate([{opacity:0},{opacity:1}],{duration:e,fill:"forwards"})},a=(t,e)=>{setTimeout(function(){console.log("delayed"),t()},e)},I=()=>{f("firstContainer1",1e3)},E=()=>{g(p)},B=()=>{w("display")},w=t=>{var e=t;document.getElementById("minimize").style[e]="none",document.getElementById("refreshBtn").style[e]="none",document.getElementById("firstContainer1").style[e]="none",document.getElementById("getRecipeBtn").style[e]=""};function b(t,e){if(t.meals===null||t.meals===void 0){const n=document.createElement("div");n.classList.add("not-found"),n.textContent="Data not found, try another keyword",e.appendChild(n),e.style.display="flex",e.style.margin="5vw 0 5vw 0",console.log("Data tidak ditemukan");return}t.meals.forEach(n=>{const s=document.createElement("div");s.classList.add("card","card-style");const r=document.createElement("img");r.src=n.strMealThumb,r.alt=n.strMeal,r.classList.add("image-style"),s.appendChild(r);const o=document.createElement("h4");o.innerHTML=n.strMeal,o.classList.add("title-style"),s.appendChild(o),e.appendChild(s),e.style.display="grid",s.addEventListener("click",()=>{const i=document.getElementById("meal-detail-container");i.innerHTML="";const c=document.createElement("div");c.classList.add("meal-detail");const u=[];for(let d=1;d<=20;d++)n[`strIngredient${d}`]&&n[`strMeasure${d}`]&&u.push(`<li>${n[`strIngredient${d}`]} - ${n[`strMeasure${d}`]}</li>`);c.innerHTML=`
          <h2>${n.strMeal}</h2>
          <img class="meal-search-image" src="${n.strMealThumb}" alt="${n.strMeal}">
          <p>Ingredients:</p>
          <ul class="meal-ingredient">
            ${u.join("")}
          </ul>
          <p>Instructions:</p>
          <p class="instruction">${n.strInstructions.replace(/\. /g,".<br>")}</p>
          <p>Youtube:</p>
          <iframe class="youtubeVideo" width="560" height="315" src="https://www.youtube.com/embed/${n.strYoutube.split("v=")[1]}" frameborder="0" allowfullscreen></iframe>
        `,i.appendChild(c),document.getElementById("meal-container").style.display="none";const l=document.createElement("button");l.textContent="Close",l.classList.add("close-button"),c.appendChild(l),l.addEventListener("click",()=>{i.innerHTML="",document.getElementById("meal-container").style.display="grid"})})})}function y(t){const e=document.getElementById("meal-container");if(e.innerHTML="",e)b(t,e);else{const n=document.createElement("div");n.classList.add("not-found"),n.textContent="data not found",e.appendChild(n),e.style.display="flex",e.style.margin="5vw 0 5vw 0"}}async function m(t){try{const e=await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${t}`);if(!e.ok)throw new Error("There is an error when fetching data...");const n=await e.json();y(n),console.log(n)}catch(e){console.error("Error:",e),y({error:"The server is not responding"})}}document.getElementById("getRecipeBtn").onclick=()=>{g(p),f("firstContainer1",2e3)};document.getElementById("refreshBtn").onclick=()=>{document.getElementById("firstContainer1").scrollIntoView({behavior:"smooth"}),h("firstContainer1",600),a(E,300),a(I,1e3)};document.getElementById("minimize").onclick=()=>{a(B,0)};document.getElementById("input-search").addEventListener("keydown",t=>{if(t.keyCode===13){const e=t.target.value.trim();e!==""&&(m(e),t.target.blur())}});document.getElementById("button-search").addEventListener("click",()=>{const t=document.getElementById("input-search").value.trim();t!==""&&(m(t),document.getElementById("input-search").blur())});m("chicken");
