(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();async function g(t){try{const e=await fetch("https://www.themealdb.com/api/json/v1/1/random.php");if(!e.ok)throw new Error("There is an error when fetching data");const s=(await e.json()).meals[0];console.log(s),t(s)}catch(e){console.log(e),alert("The server is not responding")}}const p=t=>{document.getElementById("firstContainer1").scrollIntoView({behavior:"smooth"}),document.getElementById("mealName").innerHTML=t.strMeal,document.getElementById("mealInstruction").innerHTML=t.strInstructions,document.getElementById("mealInstruction").innerHTML=t.strInstructions.replace(/[.!?]+/g,"$&<br>"),document.getElementById("mealImage").src=t.strMealThumb,document.getElementById("mealOrigin").innerHTML=t.strArea,document.getElementById("mealCategory").innerHTML=t.strCategory,document.getElementById("mealIngredients").innerHTML=t.strIngredients;const n=t.strYoutube.replace("watch?v=","embed/");document.getElementById("mealYoutube").src=n,document.getElementById("firstContainer1").style.backgroundImage=`url(${t.strMealThumb})`,document.getElementById("mealImage").style.height="27vw",document.getElementById("getRecipeBtn").style.display="none",document.getElementById("firstContainer1").style.display="flex",document.getElementById("minimize").style.display="block",document.getElementById("refreshBtn").style.display="block";let s="";for(let o=1;o<=20;o++)t[`strIngredient${o}`]!==""&&t[`strMeasure${o}`]!==""&&(s+=`${t[`strIngredient${o}`]} - ${t[`strMeasure${o}`]}<br>`);document.getElementById("mealIngredients").innerHTML=s},I=(t,e)=>{document.getElementById(t).animate([{opacity:1},{opacity:0}],{duration:e,fill:"forwards"})},f=(t,e)=>{document.getElementById(t).animate([{opacity:0},{opacity:1}],{duration:e,fill:"forwards"})},a=(t,e)=>{setTimeout(function(){console.log("delayed"),t()},e)},E=()=>{f("firstContainer1",1e3)},B=()=>{g(p)},w=()=>{b("display")},b=t=>{var e=t;document.getElementById("minimize").style[e]="none",document.getElementById("refreshBtn").style[e]="none",document.getElementById("firstContainer1").style[e]="none",document.getElementById("getRecipeBtn").style[e]=""};function M(t,e){if(t.meals===null||t.meals===void 0){const n=document.createElement("div");n.classList.add("not-found"),n.textContent="Data not found, try another keyword",e.appendChild(n),e.style.display="flex",e.style.margin="5vw 0 5vw 0",console.log("Data tidak ditemukan");return}t.meals.forEach(n=>{const s=document.createElement("div");s.classList.add("card","card-style");const o=document.createElement("img");o.src=n.strMealThumb,o.alt=n.strMeal,o.classList.add("image-style"),s.appendChild(o);const r=document.createElement("h4");r.innerHTML=n.strMeal,r.classList.add("title-style"),s.appendChild(r),e.appendChild(s),e.style.display="grid",s.addEventListener("click",()=>{const i=document.getElementById("meal-detail-container");i.innerHTML="";const d=document.createElement("div");d.classList.add("meal-detail");const u=[];for(let c=1;c<=20;c++)n[`strIngredient${c}`]&&n[`strMeasure${c}`]&&u.push(`<li>${n[`strIngredient${c}`]} - ${n[`strMeasure${c}`]}</li>`);d.innerHTML=`
          <h2>${n.strMeal}</h2>
          <img class="meal-search-image" src="${n.strMealThumb}" alt="${n.strMeal}">
          <p>Ingredients:</p>
          <ul class="meal-ingredient">
            ${u.join("")}
          </ul>
          <p>Instructions:</p>
          <p class="instruction">${n.strInstructions.replace(/\. /g,".<br>")}</p>
          <p>Youtube:</p>
          <iframe class="youtubeVideo" width="560" height="315" src="https://www.youtube.com/embed/${n.strYoutube.split("v=")[1]}" frameborder="0" allowfullscreen></iframe>
        `,i.appendChild(d),document.getElementById("meal-container").style.display="none";const l=document.createElement("button");l.textContent="Close",l.classList.add("close-button"),d.appendChild(l),l.addEventListener("click",()=>{i.innerHTML="",document.getElementById("meal-container").style.display="grid";const h=document.getElementById("firstContainer").offsetTop;window.scrollTo({top:h,behavior:"smooth"})})})})}function y(t){const e=document.getElementById("meal-container");if(e.innerHTML="",e)M(t,e);else{const n=document.createElement("div");n.classList.add("not-found"),n.textContent="data not found",e.appendChild(n),e.style.display="flex",e.style.margin="5vw 0 5vw 0"}}async function m(t){try{const e=await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${t}`);if(!e.ok)throw new Error("There is an error when fetching data...");const n=await e.json();y(n),console.log(n)}catch(e){console.error("Error:",e),y({error:"The server is not responding"})}}document.getElementById("getRecipeBtn").onclick=()=>{g(p),f("firstContainer1",2e3)};document.getElementById("refreshBtn").onclick=()=>{document.getElementById("firstContainer1").scrollIntoView({behavior:"smooth"}),I("firstContainer1",600),a(B,300),a(E,1e3)};document.getElementById("minimize").onclick=()=>{a(w,0)};document.getElementById("input-search").addEventListener("keydown",t=>{if(t.keyCode===13){const e=t.target.value.trim();e!==""&&(m(e),t.target.blur())}});document.getElementById("button-search").addEventListener("click",()=>{const t=document.getElementById("input-search").value.trim();t!==""&&(m(t),document.getElementById("input-search").blur())});m("chicken");
